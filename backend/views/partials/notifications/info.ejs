<%
  const roleTranslations = {
    ADMIN: "Admin",
    TEACHER: "Docente",
    MANAGER: "Manager"
  };
  const translatedRole = roleTranslations[notification.user.role] || notification.user.role;
%>

<div class="notification-card info">
  
  <div class="notification-content">
    <p class="notification-title">Informaci√≥n</p>
    <% if (notification.user) { %>
    <p><%= notification.user.name %> <%= notification.user.surname %> - <strong><%= translatedRole %> </strong> </p>
    <% } %>

    
        <% 
            let boxes = new Set();
            let lockers = new Set();
            notification.booking.items.forEach(item => {
                if (item.box) {
                    boxes.add(item.box.id);
                    if (item.box.locker) {
                        lockers.add(item.box.locker.number);
                    }
                }
            });
        %>

        <p><%= notification.content %> A<%= Array.from(lockers).join(', ') %>-<%= Array.from(boxes).join(', ') %> pendiente de recoger el <strong><%= new Date(notification.booking.checkOut).toLocaleDateString('es-ES') %></strong> 
            a las 
            <strong><%= new Date(notification.booking.checkOut).toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' }) %></p></strong>
    
  </div>

  <div>
    <button id="notificationReadButton">
      <img src="images/eye-closed.svg" alt="No leido">
    </button>
  </div>
</div>